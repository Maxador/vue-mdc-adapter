{"version":3,"file":"index.js","sources":["../../components/base/base-plugin.js","../../components/base/custom-event.js","../../components/base/dispatch-focus-mixin.js","../../components/select/mdc-native-select.vue","../../node_modules/@material/base/foundation.js","../../node_modules/@material/base/component.js","../../node_modules/@material/base/index.js","../../node_modules/@material/select/constants.js","../../node_modules/@material/menu/util.js","../../node_modules/@material/menu/adapter.js","../../node_modules/@material/menu/constants.js","../../node_modules/@material/menu/foundation.js","../../node_modules/@material/menu/index.js","../../node_modules/@material/select/foundation.js","../../node_modules/@material/select/bottom-line/adapter.js","../../node_modules/@material/select/bottom-line/constants.js","../../node_modules/@material/select/bottom-line/foundation.js","../../node_modules/@material/select/label/adapter.js","../../node_modules/@material/select/label/constants.js","../../node_modules/@material/select/label/foundation.js","../../components/select/mdc-menu-select.vue","../../components/select/mdc-multi-select.vue","../../components/select/mdc-select.vue","../../components/select/mdc-native-option.vue","../../components/select/mdc-menu-option.vue","../../components/select/mdc-multi-option.vue","../../components/select/mdc-option.vue","../../components/select/index.js"],"sourcesContent":["export function BasePlugin (components) { \n  return {\n    version: '__VERSION__',\n    install: (vm) => {\n      for (let key in components) {\n        let component = components[key]\n          vm.component(component.name,component)\n      }\n    },\n    components\n  } \n}\n\n","/* global CustomEvent */\n\nexport function emitCustomEvent (el, evtType, evtData, shouldBubble = false) {\n  let evt\n  if (typeof CustomEvent === 'function') {\n    evt = new CustomEvent(evtType, {\n      detail: evtData,\n      bubbles: shouldBubble\n    })\n  } else {\n    evt = document.createEvent('CustomEvent')\n    evt.initCustomEvent(evtType, shouldBubble, false, evtData)\n  }\n  el.dispatchEvent(evt)\n}\n","export const DispatchFocusMixin = {\n  data () {\n    return  {hasFocus: false}\n  },\n  methods: {\n    onMouseDown() {\n      this._active = true\n    },\n    onMouseUp () {\n      this._active = false\n    },\n    onFocusEvent () {\n      // dispatch async to let time to other focus event to propagate\n      setTimeout(() => this.dispatchFocusEvent(),0)\n    },\n    onBlurEvent () {\n      // dispatch async to let time to other focus event to propagate\n      // also filtur blur if mousedown\n      this._active || setTimeout(() => this.dispatchFocusEvent(),0)\n    },\n    dispatchFocusEvent() {\n      let hasFocus = this.$el === document.activeElement || this.$el.contains(document.activeElement);\n      if (hasFocus != this.hasFocus) {\n        this.$emit(hasFocus ? 'focus' : 'blur')\n        this.hasFocus = hasFocus\n      }\n    }\n  },\n  mounted () {\n    this.$el.addEventListener('focusin', this.onFocusEvent)\n    this.$el.addEventListener('focusout', this.onBlurEvent)\n    this.$el.addEventListener('mousedown', this.onMouseDown)\n    this.$el.addEventListener('mouseup', this.onMouseUp)\n  },\n  beforeDestroy () {\n    this.$el.removeEventListener('focusin', this.onFocusEvent)\n    this.$el.removeEventListener('focusout', this.onBlurEvent)\n    this.$el.removeEventListener('mousedown', this.onMouseDown)\n    this.$el.removeEventListener('mouseup', this.onMouseUp)\n  }\n}\n","<template>\n  <select ref=\"root\" class=\"mdc-select mdc-native-select\" \n    v-model=\"selected\" :disabled=\"disabled\"\n    @change=\"onChange\"\n  >\n    <option disabled value=\"\" v-if=\"label\">{{ label }}</option>\n    <slot></slot>\n  </select>\n</template>\n\n<script>\nexport default {\n  name: 'mdc-native-select',\n  model: {\n    prop: 'value',\n    event: 'change'\n  },\n  props: {\n    value: [String, Array],\n    disabled: Boolean,\n    label: String\n  },\n  data () {\n    return {\n      selected: this.value\n    }\n  },\n  methods: {\n    onChange () {\n      this.$emit('change', this.selected)\n    }\n  },\n  watch: {\n    value (newValue) {\n      this.selected = newValue;\n    },\n  }\n}\n</script>\n","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @template A\n */\nclass MDCFoundation {\n  /** @return enum{cssClasses} */\n  static get cssClasses() {\n    // Classes extending MDCFoundation should implement this method to return an object which exports every\n    // CSS class the foundation class needs as a property. e.g. {ACTIVE: 'mdc-component--active'}\n    return {};\n  }\n\n  /** @return enum{strings} */\n  static get strings() {\n    // Classes extending MDCFoundation should implement this method to return an object which exports all\n    // semantic strings as constants. e.g. {ARIA_ROLE: 'tablist'}\n    return {};\n  }\n\n  /** @return enum{numbers} */\n  static get numbers() {\n    // Classes extending MDCFoundation should implement this method to return an object which exports all\n    // of its semantic numbers as constants. e.g. {ANIMATION_DELAY_MS: 350}\n    return {};\n  }\n\n  /** @return {!Object} */\n  static get defaultAdapter() {\n    // Classes extending MDCFoundation may choose to implement this getter in order to provide a convenient\n    // way of viewing the necessary methods of an adapter. In the future, this could also be used for adapter\n    // validation.\n    return {};\n  }\n\n  /**\n   * @param {A=} adapter\n   */\n  constructor(adapter = {}) {\n    /** @protected {!A} */\n    this.adapter_ = adapter;\n  }\n\n  init() {\n    // Subclasses should override this method to perform initialization routines (registering events, etc.)\n  }\n\n  destroy() {\n    // Subclasses should override this method to perform de-initialization routines (de-registering events, etc.)\n  }\n}\n\nexport default MDCFoundation;\n","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport MDCFoundation from './foundation';\n\n/**\n * @template F\n */\nclass MDCComponent {\n  /**\n   * @param {!Element} root\n   * @return {!MDCComponent}\n   */\n  static attachTo(root) {\n    // Subclasses which extend MDCBase should provide an attachTo() method that takes a root element and\n    // returns an instantiated component with its root set to that element. Also note that in the cases of\n    // subclasses, an explicit foundation class will not have to be passed in; it will simply be initialized\n    // from getDefaultFoundation().\n    return new MDCComponent(root, new MDCFoundation());\n  }\n\n  /**\n   * @param {!Element} root\n   * @param {F=} foundation\n   * @param {...?} args\n   */\n  constructor(root, foundation = undefined, ...args) {\n    /** @protected {!Element} */\n    this.root_ = root;\n    this.initialize(...args);\n    // Note that we initialize foundation here and not within the constructor's default param so that\n    // this.root_ is defined and can be used within the foundation class.\n    /** @protected {!F} */\n    this.foundation_ = foundation === undefined ? this.getDefaultFoundation() : foundation;\n    this.foundation_.init();\n    this.initialSyncWithDOM();\n  }\n\n  initialize(/* ...args */) {\n    // Subclasses can override this to do any additional setup work that would be considered part of a\n    // \"constructor\". Essentially, it is a hook into the parent constructor before the foundation is\n    // initialized. Any additional arguments besides root and foundation will be passed in here.\n  }\n\n  /**\n   * @return {!F} foundation\n   */\n  getDefaultFoundation() {\n    // Subclasses must override this method to return a properly configured foundation class for the\n    // component.\n    throw new Error('Subclasses must override getDefaultFoundation to return a properly configured ' +\n      'foundation class');\n  }\n\n  initialSyncWithDOM() {\n    // Subclasses should override this method if they need to perform work to synchronize with a host DOM\n    // object. An example of this would be a form control wrapper that needs to synchronize its internal state\n    // to some property or attribute of the host DOM. Please note: this is *not* the place to perform DOM\n    // reads/writes that would cause layout / paint, as this is called synchronously from within the constructor.\n  }\n\n  destroy() {\n    // Subclasses may implement this method to release any resources / deregister any listeners they have\n    // attached. An example of this might be deregistering a resize event from the window object.\n    this.foundation_.destroy();\n  }\n\n  /**\n   * Wrapper method to add an event listener to the component's root element. This is most useful when\n   * listening for custom events.\n   * @param {string} evtType\n   * @param {!Function} handler\n   */\n  listen(evtType, handler) {\n    this.root_.addEventListener(evtType, handler);\n  }\n\n  /**\n   * Wrapper method to remove an event listener to the component's root element. This is most useful when\n   * unlistening for custom events.\n   * @param {string} evtType\n   * @param {!Function} handler\n   */\n  unlisten(evtType, handler) {\n    this.root_.removeEventListener(evtType, handler);\n  }\n\n  /**\n   * Fires a cross-browser-compatible custom event from the component root of the given type,\n   * with the given data.\n   * @param {string} evtType\n   * @param {!Object} evtData\n   * @param {boolean=} shouldBubble\n   */\n  emit(evtType, evtData, shouldBubble = false) {\n    let evt;\n    if (typeof CustomEvent === 'function') {\n      evt = new CustomEvent(evtType, {\n        detail: evtData,\n        bubbles: shouldBubble,\n      });\n    } else {\n      evt = document.createEvent('CustomEvent');\n      evt.initCustomEvent(evtType, shouldBubble, false, evtData);\n    }\n\n    this.root_.dispatchEvent(evt);\n  }\n}\n\nexport default MDCComponent;\n","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport MDCFoundation from './foundation';\nimport MDCComponent from './component';\n\nexport {MDCFoundation, MDCComponent};\n","/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport const cssClasses = {\n  BOX: 'mdc-select--box',\n  DISABLED: 'mdc-select--disabled',\n  OPEN: 'mdc-select--open',\n  ROOT: 'mdc-select',\n  SCROLL_LOCK: 'mdc-select-scroll-lock',\n};\n\nexport const strings = {\n  CHANGE_EVENT: 'MDCSelect:change',\n  BOTTOM_LINE_SELECTOR: '.mdc-select__bottom-line',\n  LABEL_SELECTOR: '.mdc-select__label',\n  MENU_SELECTOR: '.mdc-select__menu',\n  SURFACE_SELECTOR: '.mdc-select__surface',\n  SELECTED_TEXT_SELECTOR: '.mdc-select__selected-text',\n};\n","/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** @type {string|undefined} */\nlet storedTransformPropertyName_;\n\n/**\n * Returns the name of the correct transform property to use on the current browser.\n * @param {!Window} globalObj\n * @param {boolean=} forceRefresh\n * @return {string}\n */\nfunction getTransformPropertyName(globalObj, forceRefresh = false) {\n  if (storedTransformPropertyName_ === undefined || forceRefresh) {\n    const el = globalObj.document.createElement('div');\n    const transformPropertyName = ('transform' in el.style ? 'transform' : 'webkitTransform');\n    storedTransformPropertyName_ = transformPropertyName;\n  }\n\n  return storedTransformPropertyName_;\n}\n\n/**\n * Clamps a value between the minimum and the maximum, returning the clamped value.\n * @param {number} value\n * @param {number} min\n * @param {number} max\n * @return {number}\n */\nfunction clamp(value, min = 0, max = 1) {\n  return Math.min(max, Math.max(min, value));\n}\n\n\n/**\n * Returns the easing value to apply at time t, for a given cubic bezier curve.\n * Control points P0 and P3 are assumed to be (0,0) and (1,1), respectively.\n * Parameters are as follows:\n * - time: The current time in the animation, scaled between 0 and 1.\n * - x1: The x value of control point P1.\n * - y1: The y value of control point P1.\n * - x2: The x value of control point P2.\n * - y2: The y value of control point P2.\n * @param {number} time\n * @param {number} x1\n * @param {number} y1\n * @param {number} x2\n * @param {number} y2\n * @return {number}\n */\nfunction bezierProgress(time, x1, y1, x2, y2) {\n  return getBezierCoordinate_(solvePositionFromXValue_(time, x1, x2), y1, y2);\n}\n\n/**\n * Compute a single coordinate at a position point between 0 and 1.\n * c1 and c2 are the matching coordinate on control points P1 and P2, respectively.\n * Control points P0 and P3 are assumed to be (0,0) and (1,1), respectively.\n * Adapted from https://github.com/google/closure-library/blob/master/closure/goog/math/bezier.js.\n * @param {number} t\n * @param {number} c1\n * @param {number} c2\n * @return {number}\n */\nfunction getBezierCoordinate_(t, c1, c2) {\n  // Special case start and end.\n  if (t === 0 || t === 1) {\n    return t;\n  }\n\n  // Step one - from 4 points to 3\n  let ic0 = t * c1;\n  let ic1 = c1 + t * (c2 - c1);\n  const ic2 = c2 + t * (1 - c2);\n\n  // Step two - from 3 points to 2\n  ic0 += t * (ic1 - ic0);\n  ic1 += t * (ic2 - ic1);\n\n  // Final step - last point\n  return ic0 + t * (ic1 - ic0);\n}\n\n/**\n * Project a point onto the Bezier curve, from a given X. Calculates the position t along the curve.\n * Adapted from https://github.com/google/closure-library/blob/master/closure/goog/math/bezier.js.\n * @param {number} xVal\n * @param {number} x1\n * @param {number} x2\n * @return {number}\n */\nfunction solvePositionFromXValue_(xVal, x1, x2) {\n  const EPSILON = 1e-6;\n  const MAX_ITERATIONS = 8;\n\n  if (xVal <= 0) {\n    return 0;\n  } else if (xVal >= 1) {\n    return 1;\n  }\n\n  // Initial estimate of t using linear interpolation.\n  let t = xVal;\n\n  // Try gradient descent to solve for t. If it works, it is very fast.\n  let tMin = 0;\n  let tMax = 1;\n  let value = 0;\n  for (let i = 0; i < MAX_ITERATIONS; i++) {\n    value = getBezierCoordinate_(t, x1, x2);\n    const derivative = (getBezierCoordinate_(t + EPSILON, x1, x2) - value) / EPSILON;\n    if (Math.abs(value - xVal) < EPSILON) {\n      return t;\n    } else if (Math.abs(derivative) < EPSILON) {\n      break;\n    } else {\n      if (value < xVal) {\n        tMin = t;\n      } else {\n        tMax = t;\n      }\n      t -= (value - xVal) / derivative;\n    }\n  }\n\n  // If the gradient descent got stuck in a local minimum, e.g. because\n  // the derivative was close to 0, use a Dichotomy refinement instead.\n  // We limit the number of interations to 8.\n  for (let i = 0; Math.abs(value - xVal) > EPSILON && i < MAX_ITERATIONS; i++) {\n    if (value < xVal) {\n      tMin = t;\n      t = (t + tMax) / 2;\n    } else {\n      tMax = t;\n      t = (t + tMin) / 2;\n    }\n    value = getBezierCoordinate_(t, x1, x2);\n  }\n  return t;\n}\n\nexport {getTransformPropertyName, clamp, bezierProgress};\n","/**\n * @license\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* eslint no-unused-vars: [2, {\"args\": \"none\"}] */\n\n/**\n * Adapter for MDC Menu. Provides an interface for managing\n * - classes\n * - dom\n * - focus\n * - position\n * - dimensions\n * - event handlers\n *\n * Additionally, provides type information for the adapter to the Closure\n * compiler.\n *\n * Implement this adapter for your framework of choice to delegate updates to\n * the component in your framework of choice. See architecture documentation\n * for more details.\n * https://github.com/material-components/material-components-web/blob/master/docs/code/architecture.md\n *\n * @record\n */\nclass MDCMenuAdapter {\n  /** @param {string} className */\n  addClass(className) {}\n\n  /** @param {string} className */\n  removeClass(className) {}\n\n  /**\n   * @param {string} className\n   * @return {boolean}\n   */\n  hasClass(className) {}\n\n  /** @return {boolean} */\n  hasNecessaryDom() {}\n\n  /**\n   * @param {EventTarget} target\n   * @param {string} attributeName\n   * @return {string}\n   */\n  getAttributeForEventTarget(target, attributeName) {}\n\n  /** @return {{ width: number, height: number }} */\n  getInnerDimensions() {}\n\n  /** @return {boolean} */\n  hasAnchor() {}\n\n  /** @return {{width: number, height: number, top: number, right: number, bottom: number, left: number}} */\n  getAnchorDimensions() {}\n\n  /** @return {{ width: number, height: number }} */\n  getWindowDimensions() {}\n\n  /** @return {number} */\n  getNumberOfItems() {}\n\n  /**\n   * @param {string} type\n   * @param {function(!Event)} handler\n   */\n  registerInteractionHandler(type, handler) {}\n\n  /**\n   * @param {string} type\n   * @param {function(!Event)} handler\n   */\n  deregisterInteractionHandler(type, handler) {}\n\n  /** @param {function(!Event)} handler */\n  registerBodyClickHandler(handler) {}\n\n  /** @param {function(!Event)} handler */\n  deregisterBodyClickHandler(handler) {}\n\n  /**\n   * @param {EventTarget} target\n   * @return {number}\n   */\n  getIndexForEventTarget(target) {}\n\n  /** @param {{index: number}} evtData */\n  notifySelected(evtData) {}\n\n  notifyCancel() {}\n\n  saveFocus() {}\n\n  restoreFocus() {}\n\n  /** @return {boolean} */\n  isFocused() {}\n\n  focus() {}\n\n  /** @return {number} */\n  getFocusedItemIndex() /* number */ {}\n\n  /** @param {number} index */\n  focusItemAtIndex(index) {}\n\n  /** @return {boolean} */\n  isRtl() {}\n\n  /** @param {string} origin */\n  setTransformOrigin(origin) {}\n\n  /** @param {{\n  *   top: (string|undefined),\n  *   right: (string|undefined),\n  *   bottom: (string|undefined),\n  *   left: (string|undefined)\n  * }} position */\n  setPosition(position) {}\n\n  /** @param {string} height */\n  setMaxHeight(height) {}\n\n  /**\n   * @param {number} index\n   * @param {string} attr\n   * @param {string} value\n   */\n  setAttrForOptionAtIndex(index, attr, value) {}\n\n  /**\n   * @param {number} index\n   * @param {string} attr\n   */\n  rmAttrForOptionAtIndex(index, attr) {}\n\n  /**\n   * @param {number} index\n   * @param {string} className\n   */\n  addClassForOptionAtIndex(index, className) {}\n\n  /**\n   * @param {number} index\n   * @param {string} className\n   */\n  rmClassForOptionAtIndex(index, className) {}\n}\n\nexport {MDCMenuAdapter};\n","/**\n * @license\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** @enum {string} */\nconst cssClasses = {\n  ROOT: 'mdc-menu',\n  OPEN: 'mdc-menu--open',\n  ANIMATING_OPEN: 'mdc-menu--animating-open',\n  ANIMATING_CLOSED: 'mdc-menu--animating-closed',\n  SELECTED_LIST_ITEM: 'mdc-list-item--selected',\n};\n\n/** @enum {string} */\nconst strings = {\n  ITEMS_SELECTOR: '.mdc-menu__items',\n  SELECTED_EVENT: 'MDCMenu:selected',\n  CANCEL_EVENT: 'MDCMenu:cancel',\n  ARIA_DISABLED_ATTR: 'aria-disabled',\n};\n\n/** @enum {number} */\nconst numbers = {\n  // Amount of time to wait before triggering a selected event on the menu. Note that this time\n  // will most likely be bumped up once interactive lists are supported to allow for the ripple to\n  // animate before closing the menu\n  SELECTED_TRIGGER_DELAY: 50,\n  // Total duration of menu open animation.\n  TRANSITION_OPEN_DURATION: 120,\n  // Total duration of menu close animation.\n  TRANSITION_CLOSE_DURATION: 75,\n  // Margin left to the edge of the viewport when menu is at maximum possible height.\n  MARGIN_TO_EDGE: 32,\n  // Ratio of anchor width to menu width for switching from corner positioning to center positioning.\n  ANCHOR_TO_MENU_WIDTH_RATIO: 0.67,\n  // Ratio of vertical offset to menu height for switching from corner to mid-way origin positioning.\n  OFFSET_TO_MENU_HEIGHT_RATIO: 0.1,\n};\n\n/**\n * Enum for bits in the {@see Corner) bitmap.\n * @enum {number}\n */\nconst CornerBit = {\n  BOTTOM: 1,\n  CENTER: 2,\n  RIGHT: 4,\n  FLIP_RTL: 8,\n};\n\n/**\n * Enum for representing an element corner for positioning the menu.\n *\n * The START constants map to LEFT if element directionality is left\n * to right and RIGHT if the directionality is right to left.\n * Likewise END maps to RIGHT or LEFT depending on the directionality.\n *\n * @enum {number}\n */\nconst Corner = {\n  TOP_LEFT: 0,\n  TOP_RIGHT: CornerBit.RIGHT,\n  BOTTOM_LEFT: CornerBit.BOTTOM,\n  BOTTOM_RIGHT: CornerBit.BOTTOM | CornerBit.RIGHT,\n  TOP_START: CornerBit.FLIP_RTL,\n  TOP_END: CornerBit.FLIP_RTL | CornerBit.RIGHT,\n  BOTTOM_START: CornerBit.BOTTOM | CornerBit.FLIP_RTL,\n  BOTTOM_END: CornerBit.BOTTOM | CornerBit.RIGHT | CornerBit.FLIP_RTL,\n};\n\n\nexport {cssClasses, strings, numbers, CornerBit, Corner};\n","/**\n * @license\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @typedef {{\n *   top: number,\n *   right: number,\n *   bottom: number,\n *   left: number\n * }}\n */\nlet AnchorMargin;\n\n/* eslint-disable no-unused-vars */\n/**\n * @typedef {{\n *   viewport: { width: number, height: number },\n *   viewportDistance: {top: number, right: number, bottom: number, left: number},\n *   anchorHeight: number,\n *   anchorWidth: number,\n *   menuHeight: number,\n *   menuWidth: number,\n * }}\n */\nlet AutoLayoutMeasurements;\n/* eslint-enable no-unused-vars */\n\nimport MDCFoundation from '@material/base/foundation';\nimport {MDCMenuAdapter} from './adapter';\nimport {cssClasses, strings, numbers, Corner, CornerBit} from './constants';\n\n/**\n * @extends {MDCFoundation<!MDCMenuAdapter>}\n */\nclass MDCMenuFoundation extends MDCFoundation {\n  /** @return enum{cssClasses} */\n  static get cssClasses() {\n    return cssClasses;\n  }\n\n  /** @return enum{strings} */\n  static get strings() {\n    return strings;\n  }\n\n  /** @return enum{numbers} */\n  static get numbers() {\n    return numbers;\n  }\n\n  /** @return enum{number} */\n  static get Corner() {\n    return Corner;\n  }\n\n  /**\n   * {@see MDCMenuAdapter} for typing information on parameters and return\n   * types.\n   * @return {!MDCMenuAdapter}\n   */\n  static get defaultAdapter() {\n    return /** @type {!MDCMenuAdapter} */ ({\n      addClass: () => {},\n      removeClass: () => {},\n      hasClass: () => false,\n      hasNecessaryDom: () => false,\n      getAttributeForEventTarget: () => {},\n      getInnerDimensions: () => ({}),\n      hasAnchor: () => false,\n      getAnchorDimensions: () => ({}),\n      getWindowDimensions: () => ({}),\n      getNumberOfItems: () => 0,\n      registerInteractionHandler: () => {},\n      deregisterInteractionHandler: () => {},\n      registerBodyClickHandler: () => {},\n      deregisterBodyClickHandler: () => {},\n      getIndexForEventTarget: () => 0,\n      notifySelected: () => {},\n      notifyCancel: () => {},\n      saveFocus: () => {},\n      restoreFocus: () => {},\n      isFocused: () => false,\n      focus: () => {},\n      getFocusedItemIndex: () => -1,\n      focusItemAtIndex: () => {},\n      isRtl: () => false,\n      setTransformOrigin: () => {},\n      setPosition: () => {},\n      setMaxHeight: () => {},\n      setAttrForOptionAtIndex: () => {},\n      rmAttrForOptionAtIndex: () => {},\n      addClassForOptionAtIndex: () => {},\n      rmClassForOptionAtIndex: () => {},\n    });\n  }\n\n  /** @param {!MDCMenuAdapter} adapter */\n  constructor(adapter) {\n    super(Object.assign(MDCMenuFoundation.defaultAdapter, adapter));\n\n    /** @private {function(!Event)} */\n    this.clickHandler_ = (evt) => this.handlePossibleSelected_(evt);\n    /** @private {function(!Event)} */\n    this.keydownHandler_ = (evt) => this.handleKeyboardDown_(evt);\n    /** @private {function(!Event)} */\n    this.keyupHandler_ = (evt) => this.handleKeyboardUp_(evt);\n    /** @private {function(!Event)} */\n    this.documentClickHandler_ = (evt) => this.handleDocumentClick_(evt);\n    /** @private {boolean} */\n    this.isOpen_ = false;\n    /** @private {number} */\n    this.openAnimationEndTimerId_ = 0;\n    /** @private {number} */\n    this.closeAnimationEndTimerId_ = 0;\n    /** @private {number} */\n    this.selectedTriggerTimerId_ = 0;\n    /** @private {number} */\n    this.animationRequestId_ = 0;\n    /** @private {!{ width: number, height: number }} */\n    this.dimensions_;\n    /** @private {number} */\n    this.itemHeight_;\n    /** @private {Corner} */\n    this.anchorCorner_ = Corner.TOP_START;\n    /** @private {AnchorMargin} */\n    this.anchorMargin_ = {top: 0, right: 0, bottom: 0, left: 0};\n    /** @private {?AutoLayoutMeasurements} */\n    this.measures_ = null;\n    /** @private {number} */\n    this.selectedIndex_ = -1;\n    /** @private {boolean} */\n    this.rememberSelection_ = false;\n    /** @private {boolean} */\n    this.quickOpen_ = false;\n\n    // A keyup event on the menu needs to have a corresponding keydown\n    // event on the menu. If the user opens the menu with a keydown event on a\n    // button, the menu will only get the key up event causing buggy behavior with selected elements.\n    /** @private {boolean} */\n    this.keyDownWithinMenu_ = false;\n  }\n\n  init() {\n    const {ROOT, OPEN} = MDCMenuFoundation.cssClasses;\n\n    if (!this.adapter_.hasClass(ROOT)) {\n      throw new Error(`${ROOT} class required in root element.`);\n    }\n\n    if (!this.adapter_.hasNecessaryDom()) {\n      throw new Error(`Required DOM nodes missing in ${ROOT} component.`);\n    }\n\n    if (this.adapter_.hasClass(OPEN)) {\n      this.isOpen_ = true;\n    }\n\n    this.adapter_.registerInteractionHandler('click', this.clickHandler_);\n    this.adapter_.registerInteractionHandler('keyup', this.keyupHandler_);\n    this.adapter_.registerInteractionHandler('keydown', this.keydownHandler_);\n  }\n\n  destroy() {\n    clearTimeout(this.selectedTriggerTimerId_);\n    clearTimeout(this.openAnimationEndTimerId_);\n    clearTimeout(this.closeAnimationEndTimerId_);\n    // Cancel any currently running animations.\n    cancelAnimationFrame(this.animationRequestId_);\n    this.adapter_.deregisterInteractionHandler('click', this.clickHandler_);\n    this.adapter_.deregisterInteractionHandler('keyup', this.keyupHandler_);\n    this.adapter_.deregisterInteractionHandler('keydown', this.keydownHandler_);\n    this.adapter_.deregisterBodyClickHandler(this.documentClickHandler_);\n  }\n\n  /**\n   * @param {!Corner} corner Default anchor corner alignment of top-left menu corner.\n   */\n  setAnchorCorner(corner) {\n    this.anchorCorner_ = corner;\n  }\n\n  /**\n   * @param {!AnchorMargin} margin 4-plet of margins from anchor.\n   */\n  setAnchorMargin(margin) {\n    this.anchorMargin_.top = typeof margin.top === 'number' ? margin.top : 0;\n    this.anchorMargin_.right = typeof margin.right === 'number' ? margin.right : 0;\n    this.anchorMargin_.bottom = typeof margin.bottom === 'number' ? margin.bottom : 0;\n    this.anchorMargin_.left = typeof margin.left === 'number' ? margin.left : 0;\n  }\n\n  /** @param {boolean} rememberSelection */\n  setRememberSelection(rememberSelection) {\n    this.rememberSelection_ = rememberSelection;\n    this.setSelectedIndex(-1);\n  }\n\n  /** @param {boolean} quickOpen */\n  setQuickOpen(quickOpen) {\n    this.quickOpen_ = quickOpen;\n  }\n\n  /**\n   * @param {?number} focusIndex\n   * @private\n   */\n  focusOnOpen_(focusIndex) {\n    if (focusIndex === null) {\n      // If this instance of MDCMenu remembers selections, and the user has\n      // made a selection, then focus the last selected item\n      if (this.rememberSelection_ && this.selectedIndex_ >= 0) {\n        this.adapter_.focusItemAtIndex(this.selectedIndex_);\n        return;\n      }\n\n      this.adapter_.focus();\n      // If that doesn't work, focus first item instead.\n      if (!this.adapter_.isFocused()) {\n        this.adapter_.focusItemAtIndex(0);\n      }\n    } else {\n      this.adapter_.focusItemAtIndex(focusIndex);\n    }\n  }\n\n  /**\n   * Handle clicks and cancel the menu if not a child list-item\n   * @param {!Event} evt\n   * @private\n   */\n  handleDocumentClick_(evt) {\n    let el = evt.target;\n\n    while (el && el !== document.documentElement) {\n      if (this.adapter_.getIndexForEventTarget(el) !== -1) {\n        return;\n      }\n      el = el.parentNode;\n    }\n\n    this.adapter_.notifyCancel();\n    this.close(evt);\n  };\n\n  /**\n   * Handle keys that we want to repeat on hold (tab and arrows).\n   * @param {!Event} evt\n   * @return {boolean}\n   * @private\n   */\n  handleKeyboardDown_(evt) {\n    // Do nothing if Alt, Ctrl or Meta are pressed.\n    if (evt.altKey || evt.ctrlKey || evt.metaKey) {\n      return true;\n    }\n\n    const {keyCode, key, shiftKey} = evt;\n    const isTab = key === 'Tab' || keyCode === 9;\n    const isArrowUp = key === 'ArrowUp' || keyCode === 38;\n    const isArrowDown = key === 'ArrowDown' || keyCode === 40;\n    const isSpace = key === 'Space' || keyCode === 32;\n    const isEnter = key === 'Enter' || keyCode === 13;\n    // The menu needs to know if the keydown event was triggered on the menu\n    this.keyDownWithinMenu_ = isEnter || isSpace;\n\n    const focusedItemIndex = this.adapter_.getFocusedItemIndex();\n    const lastItemIndex = this.adapter_.getNumberOfItems() - 1;\n\n    if (shiftKey && isTab && focusedItemIndex === 0) {\n      this.adapter_.focusItemAtIndex(lastItemIndex);\n      evt.preventDefault();\n      return false;\n    }\n\n    if (!shiftKey && isTab && focusedItemIndex === lastItemIndex) {\n      this.adapter_.focusItemAtIndex(0);\n      evt.preventDefault();\n      return false;\n    }\n\n    // Ensure Arrow{Up,Down} and space do not cause inadvertent scrolling\n    if (isArrowUp || isArrowDown || isSpace) {\n      evt.preventDefault();\n    }\n\n    if (isArrowUp) {\n      if (focusedItemIndex === 0 || this.adapter_.isFocused()) {\n        this.adapter_.focusItemAtIndex(lastItemIndex);\n      } else {\n        this.adapter_.focusItemAtIndex(focusedItemIndex - 1);\n      }\n    } else if (isArrowDown) {\n      if (focusedItemIndex === lastItemIndex || this.adapter_.isFocused()) {\n        this.adapter_.focusItemAtIndex(0);\n      } else {\n        this.adapter_.focusItemAtIndex(focusedItemIndex + 1);\n      }\n    }\n\n    return true;\n  }\n\n  /**\n   * Handle keys that we don't want to repeat on hold (Enter, Space, Escape).\n   * @param {!Event} evt\n   * @return {boolean}\n   * @private\n   */\n  handleKeyboardUp_(evt) {\n    // Do nothing if Alt, Ctrl or Meta are pressed.\n    if (evt.altKey || evt.ctrlKey || evt.metaKey) {\n      return true;\n    }\n\n    const {keyCode, key} = evt;\n    const isEnter = key === 'Enter' || keyCode === 13;\n    const isSpace = key === 'Space' || keyCode === 32;\n    const isEscape = key === 'Escape' || keyCode === 27;\n\n    if (isEnter || isSpace) {\n      // If the keydown event didn't occur on the menu, then it should\n      // disregard the possible selected event.\n      if (this.keyDownWithinMenu_) {\n        this.handlePossibleSelected_(evt);\n      }\n      this.keyDownWithinMenu_ = false;\n    }\n\n    if (isEscape) {\n      this.adapter_.notifyCancel();\n      this.close();\n    }\n\n    return true;\n  }\n\n  /**\n   * @param {!Event} evt\n   * @private\n   */\n  handlePossibleSelected_(evt) {\n    if (this.adapter_.getAttributeForEventTarget(evt.target, strings.ARIA_DISABLED_ATTR) === 'true') {\n      return;\n    }\n    const targetIndex = this.adapter_.getIndexForEventTarget(evt.target);\n    if (targetIndex < 0) {\n      return;\n    }\n    // Debounce multiple selections\n    if (this.selectedTriggerTimerId_) {\n      return;\n    }\n    this.selectedTriggerTimerId_ = setTimeout(() => {\n      this.selectedTriggerTimerId_ = 0;\n      this.close();\n      if (this.rememberSelection_) {\n        this.setSelectedIndex(targetIndex);\n      }\n      this.adapter_.notifySelected({index: targetIndex});\n    }, numbers.SELECTED_TRIGGER_DELAY);\n  }\n\n  /**\n   * @return {AutoLayoutMeasurements} Measurements used to position menu popup.\n   */\n  getAutoLayoutMeasurements_() {\n    const anchorRect = this.adapter_.getAnchorDimensions();\n    const viewport = this.adapter_.getWindowDimensions();\n\n    return {\n      viewport: viewport,\n      viewportDistance: {\n        top: anchorRect.top,\n        right: viewport.width - anchorRect.right,\n        left: anchorRect.left,\n        bottom: viewport.height - anchorRect.bottom,\n      },\n      anchorHeight: anchorRect.height,\n      anchorWidth: anchorRect.width,\n      menuHeight: this.dimensions_.height,\n      menuWidth: this.dimensions_.width,\n    };\n  }\n\n  /**\n   * Computes the corner of the anchor from which to animate and position the menu.\n   * @return {Corner}\n   * @private\n   */\n  getOriginCorner_() {\n    // Defaults: open from the top left.\n    let corner = Corner.TOP_LEFT;\n\n    const {viewportDistance, anchorHeight, anchorWidth, menuHeight, menuWidth} = this.measures_;\n    const isBottomAligned = Boolean(this.anchorCorner_ & CornerBit.BOTTOM);\n    const availableTop = isBottomAligned ? viewportDistance.top + anchorHeight + this.anchorMargin_.bottom\n      : viewportDistance.top + this.anchorMargin_.top;\n    const availableBottom = isBottomAligned ? viewportDistance.bottom - this.anchorMargin_.bottom\n      : viewportDistance.bottom + anchorHeight - this.anchorMargin_.top;\n\n    const topOverflow = menuHeight - availableTop;\n    const bottomOverflow = menuHeight - availableBottom;\n    if (bottomOverflow > 0 && topOverflow < bottomOverflow) {\n      corner |= CornerBit.BOTTOM;\n    }\n\n    const isRtl = this.adapter_.isRtl();\n    const isFlipRtl = Boolean(this.anchorCorner_ & CornerBit.FLIP_RTL);\n    const avoidHorizontalOverlap = Boolean(this.anchorCorner_ & CornerBit.RIGHT);\n    const isAlignedRight = (avoidHorizontalOverlap && !isRtl) ||\n      (!avoidHorizontalOverlap && isFlipRtl && isRtl);\n    const availableLeft = isAlignedRight ? viewportDistance.left + anchorWidth + this.anchorMargin_.right :\n      viewportDistance.left + this.anchorMargin_.left;\n    const availableRight = isAlignedRight ? viewportDistance.right - this.anchorMargin_.right :\n      viewportDistance.right + anchorWidth - this.anchorMargin_.left;\n\n    const leftOverflow = menuWidth - availableLeft;\n    const rightOverflow = menuWidth - availableRight;\n\n    if ((leftOverflow < 0 && isAlignedRight && isRtl) ||\n        (avoidHorizontalOverlap && !isAlignedRight && leftOverflow < 0) ||\n        (rightOverflow > 0 && leftOverflow < rightOverflow)) {\n      corner |= CornerBit.RIGHT;\n    }\n\n    return corner;\n  }\n\n  /**\n   * @param {Corner} corner Origin corner of the menu.\n   * @return {number} Horizontal offset of menu origin corner from corresponding anchor corner.\n   * @private\n   */\n  getHorizontalOriginOffset_(corner) {\n    const {anchorWidth} = this.measures_;\n    const isRightAligned = Boolean(corner & CornerBit.RIGHT);\n    const avoidHorizontalOverlap = Boolean(this.anchorCorner_ & CornerBit.RIGHT);\n    let x = 0;\n    if (isRightAligned) {\n      const rightOffset = avoidHorizontalOverlap ? anchorWidth - this.anchorMargin_.left : this.anchorMargin_.right;\n      x = rightOffset;\n    } else {\n      const leftOffset = avoidHorizontalOverlap ? anchorWidth - this.anchorMargin_.right : this.anchorMargin_.left;\n      x = leftOffset;\n    }\n    return x;\n  }\n\n  /**\n   * @param {Corner} corner Origin corner of the menu.\n   * @return {number} Vertical offset of menu origin corner from corresponding anchor corner.\n   * @private\n   */\n  getVerticalOriginOffset_(corner) {\n    const {viewport, viewportDistance, anchorHeight, menuHeight} = this.measures_;\n    const isBottomAligned = Boolean(corner & CornerBit.BOTTOM);\n    const {MARGIN_TO_EDGE} = MDCMenuFoundation.numbers;\n    const avoidVerticalOverlap = Boolean(this.anchorCorner_ & CornerBit.BOTTOM);\n    const canOverlapVertically = !avoidVerticalOverlap;\n    let y = 0;\n\n    if (isBottomAligned) {\n      y = avoidVerticalOverlap ? anchorHeight - this.anchorMargin_.top : -this.anchorMargin_.bottom;\n      // adjust for when menu can overlap anchor, but too tall to be aligned to bottom\n      // anchor corner. Bottom margin is ignored in such cases.\n      if (canOverlapVertically && menuHeight > viewportDistance.top + anchorHeight) {\n        y = -(Math.min(menuHeight, viewport.height - MARGIN_TO_EDGE) - (viewportDistance.top + anchorHeight));\n      }\n    } else {\n      y = avoidVerticalOverlap ? (anchorHeight + this.anchorMargin_.bottom) : this.anchorMargin_.top;\n      // adjust for when menu can overlap anchor, but too tall to be aligned to top\n      // anchor corners. Top margin is ignored in that case.\n      if (canOverlapVertically && menuHeight > viewportDistance.bottom + anchorHeight) {\n        y = -(Math.min(menuHeight, viewport.height - MARGIN_TO_EDGE) - (viewportDistance.bottom + anchorHeight));\n      }\n    }\n    return y;\n  }\n\n  /**\n   * @param {Corner} corner Origin corner of the menu.\n   * @return {number} Maximum height of the menu, based on available space. 0 indicates should not be set.\n   * @private\n   */\n  getMenuMaxHeight_(corner) {\n    let maxHeight = 0;\n    const {viewportDistance} = this.measures_;\n    const isBottomAligned = Boolean(corner & CornerBit.BOTTOM);\n\n    // When maximum height is not specified, it is handled from css.\n    if (this.anchorCorner_ & CornerBit.BOTTOM) {\n      if (isBottomAligned) {\n        maxHeight = viewportDistance.top + this.anchorMargin_.top;\n      } else {\n        maxHeight = viewportDistance.bottom - this.anchorMargin_.bottom;\n      }\n    }\n\n    return maxHeight;\n  }\n\n  /** @private */\n  autoPosition_() {\n    if (!this.adapter_.hasAnchor()) {\n      return;\n    }\n\n    // Compute measurements for autoposition methods reuse.\n    this.measures_ = this.getAutoLayoutMeasurements_();\n\n    const corner = this.getOriginCorner_();\n    const maxMenuHeight = this.getMenuMaxHeight_(corner);\n    let verticalAlignment = (corner & CornerBit.BOTTOM) ? 'bottom' : 'top';\n    let horizontalAlignment = (corner & CornerBit.RIGHT) ? 'right' : 'left';\n    const horizontalOffset = this.getHorizontalOriginOffset_(corner);\n    const verticalOffset = this.getVerticalOriginOffset_(corner);\n    const position = {\n      [horizontalAlignment]: horizontalOffset ? horizontalOffset + 'px' : '0',\n      [verticalAlignment]: verticalOffset ? verticalOffset + 'px' : '0',\n    };\n    const {anchorWidth, menuHeight, menuWidth} = this.measures_;\n    // Center align when anchor width is comparable or greater than menu, otherwise keep corner.\n    if (anchorWidth / menuWidth > numbers.ANCHOR_TO_MENU_WIDTH_RATIO) {\n      horizontalAlignment = 'center';\n    }\n\n    // Adjust vertical origin when menu is positioned with significant offset from anchor. This is done so that\n    // scale animation is \"anchored\" on the anchor.\n    if (!(this.anchorCorner_ & CornerBit.BOTTOM) &&\n        Math.abs(verticalOffset / menuHeight) > numbers.OFFSET_TO_MENU_HEIGHT_RATIO) {\n      const verticalOffsetPercent = Math.abs(verticalOffset / menuHeight) * 100;\n      const originPercent = (corner & CornerBit.BOTTOM) ? 100 - verticalOffsetPercent : verticalOffsetPercent;\n      verticalAlignment = Math.round(originPercent * 100) / 100 + '%';\n    }\n\n    this.adapter_.setTransformOrigin(`${horizontalAlignment} ${verticalAlignment}`);\n    this.adapter_.setPosition(position);\n    this.adapter_.setMaxHeight(maxMenuHeight ? maxMenuHeight + 'px' : '');\n\n    // Clear measures after positioning is complete.\n    this.measures_ = null;\n  }\n\n  /**\n   * Open the menu.\n   * @param {{focusIndex: ?number}=} options\n   */\n  open({focusIndex = null} = {}) {\n    this.adapter_.saveFocus();\n\n    if (!this.quickOpen_) {\n      this.adapter_.addClass(MDCMenuFoundation.cssClasses.ANIMATING_OPEN);\n    }\n\n    this.animationRequestId_ = requestAnimationFrame(() => {\n      this.dimensions_ = this.adapter_.getInnerDimensions();\n      this.autoPosition_();\n      this.adapter_.addClass(MDCMenuFoundation.cssClasses.OPEN);\n      this.focusOnOpen_(focusIndex);\n      this.adapter_.registerBodyClickHandler(this.documentClickHandler_);\n      if (!this.quickOpen_) {\n        this.openAnimationEndTimerId_ = setTimeout(() => {\n          this.openAnimationEndTimerId_ = 0;\n          this.adapter_.removeClass(MDCMenuFoundation.cssClasses.ANIMATING_OPEN);\n        }, numbers.TRANSITION_OPEN_DURATION);\n      }\n    });\n    this.isOpen_ = true;\n  }\n\n  /**\n   * Closes the menu.\n   * @param {Event=} evt\n   */\n  close(evt = null) {\n    const targetIsDisabled = evt ?\n      this.adapter_.getAttributeForEventTarget(evt.target, strings.ARIA_DISABLED_ATTR) === 'true' :\n      false;\n\n    if (targetIsDisabled) {\n      return;\n    }\n\n    this.adapter_.deregisterBodyClickHandler(this.documentClickHandler_);\n\n    if (!this.quickOpen_) {\n      this.adapter_.addClass(MDCMenuFoundation.cssClasses.ANIMATING_CLOSED);\n    }\n\n    requestAnimationFrame(() => {\n      this.adapter_.removeClass(MDCMenuFoundation.cssClasses.OPEN);\n      if (!this.quickOpen_) {\n        this.closeAnimationEndTimerId_ = setTimeout(() => {\n          this.closeAnimationEndTimerId_ = 0;\n          this.adapter_.removeClass(MDCMenuFoundation.cssClasses.ANIMATING_CLOSED);\n        }, numbers.TRANSITION_CLOSE_DURATION);\n      }\n    });\n    this.isOpen_ = false;\n    this.adapter_.restoreFocus();\n  }\n\n  /** @return {boolean} */\n  isOpen() {\n    return this.isOpen_;\n  }\n\n  /** @return {number} */\n  getSelectedIndex() {\n    return this.selectedIndex_;\n  }\n\n  /**\n   * @param {number} index Index of the item to set as selected.\n   */\n  setSelectedIndex(index) {\n    if (index === this.selectedIndex_) {\n      return;\n    }\n\n    const prevSelectedIndex = this.selectedIndex_;\n    if (prevSelectedIndex >= 0) {\n      this.adapter_.rmAttrForOptionAtIndex(prevSelectedIndex, 'aria-selected');\n      this.adapter_.rmClassForOptionAtIndex(prevSelectedIndex, cssClasses.SELECTED_LIST_ITEM);\n    }\n\n    this.selectedIndex_ = index >= 0 && index < this.adapter_.getNumberOfItems() ? index : -1;\n    if (this.selectedIndex_ >= 0) {\n      this.adapter_.setAttrForOptionAtIndex(this.selectedIndex_, 'aria-selected', 'true');\n      this.adapter_.addClassForOptionAtIndex(this.selectedIndex_, cssClasses.SELECTED_LIST_ITEM);\n    }\n  }\n}\n\nexport {MDCMenuFoundation, AnchorMargin};\n","/**\n * @license\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport MDCComponent from '@material/base/component';\nimport {getTransformPropertyName} from './util';\nimport {MDCMenuFoundation, AnchorMargin} from './foundation';\nimport {Corner, CornerBit} from './constants';\n\n/**\n * @extends MDCComponent<!MDCMenuFoundation>\n */\nclass MDCMenu extends MDCComponent {\n  /** @param {...?} args */\n  constructor(...args) {\n    super(...args);\n    /** @private {!Element} */\n    this.previousFocus_;\n  }\n\n  /**\n   * @param {!Element} root\n   * @return {!MDCMenu}\n   */\n  static attachTo(root) {\n    return new MDCMenu(root);\n  }\n\n  /** @return {boolean} */\n  get open() {\n    return this.foundation_.isOpen();\n  }\n\n  /** @param {boolean} value */\n  set open(value) {\n    if (value) {\n      this.foundation_.open();\n    } else {\n      this.foundation_.close();\n    }\n  }\n\n  /** @param {{focusIndex: ?number}=} options */\n  show({focusIndex = null} = {}) {\n    this.foundation_.open({focusIndex: focusIndex});\n  }\n\n  hide() {\n    this.foundation_.close();\n  }\n\n  /**\n   * @param {Corner} corner Default anchor corner alignment of top-left\n   *     menu corner.\n   */\n  setAnchorCorner(corner) {\n    this.foundation_.setAnchorCorner(corner);\n  }\n\n  /**\n   * @param {AnchorMargin} margin\n   */\n  setAnchorMargin(margin) {\n    this.foundation_.setAnchorMargin(margin);\n  }\n\n  /**\n   * Return the item container element inside the component.\n   * @return {?Element}\n   */\n  get itemsContainer_() {\n    return this.root_.querySelector(MDCMenuFoundation.strings.ITEMS_SELECTOR);\n  }\n\n  /**\n   * Return the items within the menu. Note that this only contains the set of elements within\n   * the items container that are proper list items, and not supplemental / presentational DOM\n   * elements.\n   * @return {!Array<!Element>}\n   */\n  get items() {\n    const {itemsContainer_: itemsContainer} = this;\n    return [].slice.call(itemsContainer.querySelectorAll('.mdc-list-item[role]'));\n  }\n\n  /**\n   * Return the item within the menu that is selected.\n   * @param {number} index\n   * @return {?Element}\n   */\n  getOptionByIndex(index) {\n    const items = this.items;\n\n    if (index < items.length) {\n      return this.items[index];\n    } else {\n      return null;\n    }\n  }\n\n  /** @param {number} index */\n  set selectedItemIndex(index) {\n    this.foundation_.setSelectedIndex(index);\n  }\n\n  /** @return {number} */\n  get selectedItemIndex() {\n    return this.foundation_.getSelectedIndex();\n  }\n\n  /** @param {!boolean} rememberSelection */\n  set rememberSelection(rememberSelection) {\n    this.foundation_.setRememberSelection(rememberSelection);\n  }\n\n  /** @param {boolean} quickOpen */\n  set quickOpen(quickOpen) {\n    this.foundation_.setQuickOpen(quickOpen);\n  }\n\n  /** @return {!MDCMenuFoundation} */\n  getDefaultFoundation() {\n    return new MDCMenuFoundation({\n      addClass: (className) => this.root_.classList.add(className),\n      removeClass: (className) => this.root_.classList.remove(className),\n      hasClass: (className) => this.root_.classList.contains(className),\n      hasNecessaryDom: () => Boolean(this.itemsContainer_),\n      getAttributeForEventTarget: (target, attributeName) => target.getAttribute(attributeName),\n      getInnerDimensions: () => {\n        const {itemsContainer_: itemsContainer} = this;\n        return {width: itemsContainer.offsetWidth, height: itemsContainer.offsetHeight};\n      },\n      hasAnchor: () => this.root_.parentElement && this.root_.parentElement.classList.contains('mdc-menu-anchor'),\n      getAnchorDimensions: () => this.root_.parentElement.getBoundingClientRect(),\n      getWindowDimensions: () => {\n        return {width: window.innerWidth, height: window.innerHeight};\n      },\n      getNumberOfItems: () => this.items.length,\n      registerInteractionHandler: (type, handler) => this.root_.addEventListener(type, handler),\n      deregisterInteractionHandler: (type, handler) => this.root_.removeEventListener(type, handler),\n      registerBodyClickHandler: (handler) => document.body.addEventListener('click', handler),\n      deregisterBodyClickHandler: (handler) => document.body.removeEventListener('click', handler),\n      getIndexForEventTarget: (target) => this.items.indexOf(target),\n      notifySelected: (evtData) => this.emit(MDCMenuFoundation.strings.SELECTED_EVENT, {\n        index: evtData.index,\n        item: this.items[evtData.index],\n      }),\n      notifyCancel: () => this.emit(MDCMenuFoundation.strings.CANCEL_EVENT, {}),\n      saveFocus: () => {\n        this.previousFocus_ = document.activeElement;\n      },\n      restoreFocus: () => {\n        if (this.previousFocus_) {\n          this.previousFocus_.focus();\n        }\n      },\n      isFocused: () => document.activeElement === this.root_,\n      focus: () => this.root_.focus(),\n      getFocusedItemIndex: () => this.items.indexOf(document.activeElement),\n      focusItemAtIndex: (index) => this.items[index].focus(),\n      isRtl: () => getComputedStyle(this.root_).getPropertyValue('direction') === 'rtl',\n      setTransformOrigin: (origin) => {\n        this.root_.style[`${getTransformPropertyName(window)}-origin`] = origin;\n      },\n      setPosition: (position) => {\n        this.root_.style.left = 'left' in position ? position.left : null;\n        this.root_.style.right = 'right' in position ? position.right : null;\n        this.root_.style.top = 'top' in position ? position.top : null;\n        this.root_.style.bottom = 'bottom' in position ? position.bottom : null;\n      },\n      setMaxHeight: (height) => {\n        this.root_.style.maxHeight = height;\n      },\n      setAttrForOptionAtIndex: (index, attr, value) => this.items[index].setAttribute(attr, value),\n      rmAttrForOptionAtIndex: (index, attr) => this.items[index].removeAttribute(attr),\n      addClassForOptionAtIndex: (index, className) => this.items[index].classList.add(className),\n      rmClassForOptionAtIndex: (index, className) => this.items[index].classList.remove(className),\n    });\n  }\n}\n\nexport {MDCMenuFoundation, MDCMenu, AnchorMargin, Corner, CornerBit};\n","/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {MDCFoundation} from '@material/base/index';\nimport {cssClasses, strings} from './constants';\nimport {MDCMenuFoundation} from '@material/menu/index';\n\nconst OPENER_KEYS = [\n  {key: 'ArrowUp', keyCode: 38, forType: 'keydown'},\n  {key: 'ArrowDown', keyCode: 40, forType: 'keydown'},\n  {key: 'Space', keyCode: 32, forType: 'keyup'},\n];\n\nexport default class MDCSelectFoundation extends MDCFoundation {\n  static get cssClasses() {\n    return cssClasses;\n  }\n\n  static get strings() {\n    return strings;\n  }\n\n  static get defaultAdapter() {\n    return {\n      addClass: (/* className: string */) => {},\n      removeClass: (/* className: string */) => {},\n      floatLabel: (/* value: boolean */) => {},\n      activateBottomLine: () => {},\n      deactivateBottomLine: () => {},\n      addBodyClass: (/* className: string */) => {},\n      removeBodyClass: (/* className: string */) => {},\n      setAttr: (/* attr: string, value: string */) => {},\n      rmAttr: (/* attr: string */) => {},\n      computeBoundingRect: () => /* {left: number, top: number} */ ({left: 0, top: 0}),\n      registerInteractionHandler: (/* type: string, handler: EventListener */) => {},\n      deregisterInteractionHandler: (/* type: string, handler: EventListener */) => {},\n      focus: () => {},\n      makeTabbable: () => {},\n      makeUntabbable: () => {},\n      getComputedStyleValue: (/* propertyName: string */) => /* string */ '',\n      setStyle: (/* propertyName: string, value: string */) => {},\n      create2dRenderingContext: () => /* {font: string, measureText: (string) => {width: number}} */ ({\n        font: '',\n        measureText: () => ({width: 0}),\n      }),\n      setMenuElStyle: (/* propertyName: string, value: string */) => {},\n      setMenuElAttr: (/* attr: string, value: string */) => {},\n      rmMenuElAttr: (/* attr: string */) => {},\n      getMenuElOffsetHeight: () => /* number */ 0,\n      openMenu: (/* focusIndex: number */) => {},\n      isMenuOpen: () => /* boolean */ false,\n      setSelectedTextContent: (/* textContent: string */) => {},\n      getNumberOfOptions: () => /* number */ 0,\n      getTextForOptionAtIndex: (/* index: number */) => /* string */ '',\n      getValueForOptionAtIndex: (/* index: number */) => /* string */ '',\n      setAttrForOptionAtIndex: (/* index: number, attr: string, value: string */) => {},\n      rmAttrForOptionAtIndex: (/* index: number, attr: string */) => {},\n      getOffsetTopForOptionAtIndex: (/* index: number */) => /* number */ 0,\n      registerMenuInteractionHandler: (/* type: string, handler: EventListener */) => {},\n      deregisterMenuInteractionHandler: (/* type: string, handler: EventListener */) => {},\n      notifyChange: () => {},\n      getWindowInnerHeight: () => /* number */ 0,\n    };\n  }\n\n  constructor(adapter) {\n    super(Object.assign(MDCSelectFoundation.defaultAdapter, adapter));\n    this.ctx_ = null;\n    this.selectedIndex_ = -1;\n    this.disabled_ = false;\n    this.isFocused_ = false;\n\n    /** @private {number} */\n    this.animationRequestId_ = 0;\n\n    this.displayHandler_ = (evt) => {\n      evt.preventDefault();\n      if (!this.adapter_.isMenuOpen()) {\n        this.open_();\n      }\n    };\n    this.displayViaKeyboardHandler_ = (evt) => this.handleDisplayViaKeyboard_(evt);\n    this.selectionHandler_ = ({detail}) => {\n      const {index} = detail;\n\n      if (index !== this.selectedIndex_) {\n        this.setSelectedIndex(index);\n        this.adapter_.notifyChange();\n      }\n      this.close_();\n    };\n    this.cancelHandler_ = () => {\n      this.close_();\n      if (this.selectedIndex_ === -1) {\n        this.adapter_.floatLabel(false);\n      }\n    };\n  }\n\n  init() {\n    this.ctx_ = this.adapter_.create2dRenderingContext();\n    this.adapter_.registerInteractionHandler('click', this.displayHandler_);\n    this.adapter_.registerInteractionHandler('keydown', this.displayViaKeyboardHandler_);\n    this.adapter_.registerInteractionHandler('keyup', this.displayViaKeyboardHandler_);\n    this.adapter_.registerMenuInteractionHandler(\n      MDCMenuFoundation.strings.SELECTED_EVENT, this.selectionHandler_);\n    this.adapter_.registerMenuInteractionHandler(\n      MDCMenuFoundation.strings.CANCEL_EVENT, this.cancelHandler_);\n    this.resize();\n  }\n\n  destroy() {\n    // Drop reference to context object to prevent potential leaks\n    this.ctx_ = null;\n    cancelAnimationFrame(this.animationRequestId_);\n    this.adapter_.deregisterInteractionHandler('click', this.displayHandler_);\n    this.adapter_.deregisterInteractionHandler('keydown', this.displayViaKeyboardHandler_);\n    this.adapter_.deregisterInteractionHandler('keyup', this.displayViaKeyboardHandler_);\n    this.adapter_.deregisterMenuInteractionHandler(\n      MDCMenuFoundation.strings.SELECTED_EVENT, this.selectionHandler_);\n    this.adapter_.deregisterMenuInteractionHandler(\n      MDCMenuFoundation.strings.CANCEL_EVENT, this.cancelHandler_);\n  }\n\n  getValue() {\n    return this.selectedIndex_ >= 0 ? this.adapter_.getValueForOptionAtIndex(this.selectedIndex_) : '';\n  }\n\n  getSelectedIndex() {\n    return this.selectedIndex_;\n  }\n\n  setSelectedIndex(index) {\n    const prevSelectedIndex = this.selectedIndex_;\n    if (prevSelectedIndex >= 0) {\n      this.adapter_.rmAttrForOptionAtIndex(this.selectedIndex_, 'aria-selected');\n    }\n\n    this.selectedIndex_ = index >= 0 && index < this.adapter_.getNumberOfOptions() ? index : -1;\n    let selectedTextContent = '';\n    if (this.selectedIndex_ >= 0) {\n      selectedTextContent = this.adapter_.getTextForOptionAtIndex(this.selectedIndex_).trim();\n      this.adapter_.setAttrForOptionAtIndex(this.selectedIndex_, 'aria-selected', 'true');\n      this.adapter_.floatLabel(true);\n    } else {\n      if (!this.adapter_.isMenuOpen()) {\n        this.adapter_.floatLabel(false);\n      }\n    }\n    this.adapter_.setSelectedTextContent(selectedTextContent);\n  }\n\n  isDisabled() {\n    return this.disabled_;\n  }\n\n  setDisabled(disabled) {\n    const {DISABLED} = MDCSelectFoundation.cssClasses;\n    this.disabled_ = disabled;\n    if (this.disabled_) {\n      this.adapter_.addClass(DISABLED);\n      this.adapter_.setAttr('aria-disabled', 'true');\n      this.adapter_.makeUntabbable();\n    } else {\n      this.adapter_.removeClass(DISABLED);\n      this.adapter_.rmAttr('aria-disabled');\n      this.adapter_.makeTabbable();\n    }\n  }\n\n  resize() {\n    const font = this.adapter_.getComputedStyleValue('font');\n    const letterSpacing = parseFloat(this.adapter_.getComputedStyleValue('letter-spacing'));\n\n    if (font) {\n      this.ctx_.font = font;\n    } else {\n      const primaryFontFamily = this.adapter_.getComputedStyleValue('font-family').split(',')[0];\n      const fontSize = this.adapter_.getComputedStyleValue('font-size');\n      this.ctx_.font = `${fontSize} ${primaryFontFamily}`;\n    }\n\n    let maxTextLength = 0;\n\n    for (let i = 0, l = this.adapter_.getNumberOfOptions(); i < l; i++) {\n      const surfacePaddingRight = parseInt(this.adapter_.getComputedStyleValue('padding-right'), 10);\n      const surfacePaddingLeft = parseInt(this.adapter_.getComputedStyleValue('padding-left'), 10);\n      const selectBoxAddedPadding = surfacePaddingRight + surfacePaddingLeft;\n      const txt = this.adapter_.getTextForOptionAtIndex(i).trim();\n      const {width} = this.ctx_.measureText(txt);\n      const addedSpace = letterSpacing * txt.length;\n\n      maxTextLength =\n        Math.max(maxTextLength, Math.ceil(width + addedSpace + selectBoxAddedPadding));\n    }\n\n    this.adapter_.setStyle('width', `${maxTextLength}px`);\n  }\n\n  open_() {\n    this.disableScroll_();\n    const {OPEN} = MDCSelectFoundation.cssClasses;\n    const focusIndex = this.selectedIndex_ < 0 ? 0 : this.selectedIndex_;\n\n    this.setMenuStylesForOpenAtIndex_(focusIndex);\n    this.adapter_.floatLabel(true);\n    this.adapter_.activateBottomLine();\n    this.adapter_.addClass(OPEN);\n    this.animationRequestId_ = requestAnimationFrame(() => {\n      this.adapter_.openMenu(focusIndex);\n      this.isFocused_ = true;\n    });\n  }\n\n  setMenuStylesForOpenAtIndex_(index) {\n    const innerHeight = this.adapter_.getWindowInnerHeight();\n    const {left, top} = this.adapter_.computeBoundingRect();\n\n    this.adapter_.setMenuElAttr('aria-hidden', 'true');\n    this.adapter_.setMenuElStyle('display', 'block');\n    const menuHeight = this.adapter_.getMenuElOffsetHeight();\n    const itemOffsetTop = this.adapter_.getOffsetTopForOptionAtIndex(index);\n    this.adapter_.setMenuElStyle('display', '');\n    this.adapter_.rmMenuElAttr('aria-hidden');\n\n    let adjustedTop = top - itemOffsetTop;\n    const overflowsTop = adjustedTop < 0;\n    const overflowsBottom = adjustedTop + menuHeight > innerHeight;\n    if (overflowsTop) {\n      adjustedTop = 0;\n    } else if (overflowsBottom) {\n      adjustedTop = Math.max(0, innerHeight - menuHeight);\n    };\n\n    this.adapter_.setMenuElStyle('left', `${left}px`);\n    this.adapter_.setMenuElStyle('top', `${adjustedTop}px`);\n    this.adapter_.setMenuElStyle('transform-origin', `center ${itemOffsetTop}px`);\n  }\n\n  close_() {\n    const {OPEN} = MDCSelectFoundation.cssClasses;\n    this.adapter_.removeClass(OPEN);\n    this.adapter_.deactivateBottomLine();\n    this.adapter_.focus();\n    this.enableScroll_();\n  }\n\n  handleDisplayViaKeyboard_(evt) {\n    // We use a hard-coded 2 instead of Event.AT_TARGET to avoid having to reference a browser\n    // global.\n    const EVENT_PHASE_AT_TARGET = 2;\n    if (evt.eventPhase !== EVENT_PHASE_AT_TARGET) {\n      return;\n    }\n\n    // Prevent pressing space down from scrolling the page\n    const isSpaceDown = evt.type === 'keydown' && (evt.key === 'Space' || evt.keyCode === 32);\n    if (isSpaceDown) {\n      evt.preventDefault();\n    }\n\n    const isOpenerKey = OPENER_KEYS.some(({key, keyCode, forType}) => {\n      return evt.type === forType && (evt.key === key || evt.keyCode === keyCode);\n    });\n\n    if (isOpenerKey) {\n      this.displayHandler_(evt);\n    }\n  }\n\n  disableScroll_() {\n    this.adapter_.addBodyClass(cssClasses.SCROLL_LOCK);\n  }\n\n  enableScroll_() {\n    this.adapter_.removeBodyClass(cssClasses.SCROLL_LOCK);\n  }\n}\n","/**\n * @license\n * Copyright 2017 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* eslint no-unused-vars: [2, {\"args\": \"none\"}] */\n\n/**\n * Adapter for MDC Select Bottom Line.\n *\n * Defines the shape of the adapter expected by the foundation. Implement this\n * adapter to integrate the Select label into your framework. See\n * https://github.com/material-components/material-components-web/blob/master/docs/authoring-components.md\n * for more information.\n *\n * @record\n */\nclass MDCSelectBottomLineAdapter {\n  /**\n   * Adds a class to the bottom line element.\n   * @param {string} className\n   */\n  addClass(className) {}\n\n  /**\n   * Removes a class from the bottom line element.\n   * @param {string} className\n   */\n  removeClass(className) {}\n}\n\nexport default MDCSelectBottomLineAdapter;\n","/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport const cssClasses = {\n  BOTTOM_LINE_ACTIVE: 'mdc-select__bottom-line--active',\n};\n","/**\n * @license\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport MDCFoundation from '@material/base/foundation';\nimport MDCSelectBottomLineAdapter from './adapter';\nimport {cssClasses} from './constants';\n\n/**\n * @extends {MDCFoundation<!MDCSelectBottomLineAdapter>}\n * @final\n */\nclass MDCSelectBottomLineFoundation extends MDCFoundation {\n  /** @return enum {string} */\n  static get cssClasses() {\n    return cssClasses;\n  }\n\n  /**\n   * {@see MDCSelectBottomLineAdapter} for typing information on parameters and return\n   * types.\n   * @return {!MDCSelectBottomLineAdapter}\n   */\n  static get defaultAdapter() {\n    return /** @type {!MDCSelectBottomLineAdapter} */ ({\n      addClass: () => {},\n      removeClass: () => {},\n    });\n  }\n\n  /**\n   * Adds the active class to bottom line\n   */\n  activate() {\n    this.adapter_.addClass(cssClasses.BOTTOM_LINE_ACTIVE);\n  }\n\n  /**\n   * Removes the active class from the bottom line\n   */\n  deactivate() {\n    this.adapter_.removeClass(cssClasses.BOTTOM_LINE_ACTIVE);\n  }\n\n  /**\n   * @param {!MDCSelectBottomLineAdapter} adapter\n   */\n  constructor(adapter) {\n    super(Object.assign(MDCSelectBottomLineFoundation.defaultAdapter, adapter));\n  }\n}\n\nexport default MDCSelectBottomLineFoundation;\n","/**\n * @license\n * Copyright 2017 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* eslint no-unused-vars: [2, {\"args\": \"none\"}] */\n\n/**\n * Adapter for MDC Select Label.\n *\n * Defines the shape of the adapter expected by the foundation. Implement this\n * adapter to integrate the Select label into your framework. See\n * https://github.com/material-components/material-components-web/blob/master/docs/authoring-components.md\n * for more information.\n *\n * @record\n */\nclass MDCSelectLabelAdapter {\n  /**\n   * Adds a class to the label element.\n   * @param {string} className\n   */\n  addClass(className) {}\n\n  /**\n   * Removes a class from the label element.\n   * @param {string} className\n   */\n  removeClass(className) {}\n}\n\nexport default MDCSelectLabelAdapter;\n","export const cssClasses = {\n  LABEL_FLOAT_ABOVE: 'mdc-select__label--float-above',\n};\n","/**\n * @license\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport MDCFoundation from '@material/base/foundation';\nimport MDCSelectLabelAdapter from './adapter';\nimport {cssClasses} from './constants';\n\n/**\n * @extends {MDCFoundation<!MDCSelectLabelAdapter>}\n * @final\n */\nclass MDCSelectLabelFoundation extends MDCFoundation {\n  /** @return enum {string} */\n  static get cssClasses() {\n    return cssClasses;\n  }\n\n  /**\n   * {@see MDCSelectLabelAdapter} for typing information on parameters and return\n   * types.\n   * @return {!MDCSelectLabelAdapter}\n   */\n  static get defaultAdapter() {\n    return /** @type {!MDCSelectLabelAdapter} */ ({\n      addClass: () => {},\n      removeClass: () => {},\n      getWidth: () => {},\n    });\n  }\n\n  /**\n   * @param {!MDCSelectLabelAdapter} adapter\n   */\n  constructor(adapter) {\n    super(Object.assign(MDCSelectLabelFoundation.defaultAdapter, adapter));\n  }\n\n  /**\n   * Styles the label to float or defloat as necessary.\n   * @param {string} value The value of the input.\n   */\n  styleFloat(value) {\n    const {LABEL_FLOAT_ABOVE} = MDCSelectLabelFoundation.cssClasses;\n    if (!!value) {\n      this.adapter_.addClass(LABEL_FLOAT_ABOVE);\n    } else {\n      this.adapter_.removeClass(LABEL_FLOAT_ABOVE);\n    }\n  }\n}\n\nexport default MDCSelectLabelFoundation;\n","<template>\r\n  <div class=\"mdc-select mdc-menu-select\" \r\n    role=\"listbox\" \r\n    :class=\"classes\">\r\n    <div ref=\"surface\" class=\"mdc-select__surface\"\r\n      :style=\"surfaceStyles\" :tabindex=\"tabIndex\">\r\n        <div ref=\"label\" class=\"mdc-select__label\"\r\n          :class=\"labelClasses\"\r\n        >{{label}}</div>\r\n        <div ref=\"selectedContent\" class=\"mdc-select__selected-text\" \r\n        >{{selectedTextContent}}</div>\r\n        <div ref=\"bottomLine\" class=\"mdc-select__bottom-line\"\r\n          :class=\"bottomLineClasses\"></div>\r\n    </div>\r\n    <mdc-menu ref=\"menu\" \r\n      class=\"mdc-select__menu\"\r\n      @update=\"refreshIndex\">\r\n      <slot></slot>\r\n    </mdc-menu>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mdcMenu } from '../menu';\r\nimport MDCSelectFoundation from '@material/select/foundation';\r\nimport MDCSelectBottomLineFoundation from '@material/select/bottom-line/foundation';\r\nimport MDCSelectLabelFoundation from '@material/select/label/foundation';\r\n\r\nexport default {\r\n  name: 'mdc-menu-select',\r\n  model: {\r\n    prop: 'value',\r\n    event: 'change',\r\n  },\r\n  props: {\r\n    multiple: Boolean,\r\n    value: [String, Array],\r\n    disabled: Boolean,\r\n    label: String,\r\n    box: Boolean,\r\n  },\r\n  data() {\r\n    return {\r\n      classes: {\r\n        'mdc-select--box': this.box,\r\n      },\r\n      labelClasses: {},\r\n      bottomLineClasses: {},\r\n      surfaceStyles: {},\r\n      tabIndex: 0,\r\n      selectedTextContent: '',\r\n    };\r\n  },\r\n  components: {\r\n    'mdc-menu': mdcMenu,\r\n  },\r\n  watch: {\r\n    disabled(value) {\r\n      this.foundation && this.foundation.setDisabled(value);\r\n    },\r\n    value() {\r\n      this.refreshIndex();\r\n    },\r\n    box() {\r\n      this.$set(this.classes, 'mdc-select--box', this.box);\r\n    },\r\n  },\r\n  methods: {\r\n    refreshIndex() {\r\n      if (this.foundation) {\r\n        let options = this.$refs.menu.items;\r\n        for (let i = 0; i < options.length; i++) {\r\n          let optionValue =\r\n            options[i].getAttribute('data-value') ||\r\n            options[i].textContent.trim();\r\n          if (this.value == optionValue) {\r\n            this.foundation.setSelectedIndex(i);\r\n            //TODO: MDCFIX force float above if value is valid\r\n            this.$set(\r\n              this.labelClasses,\r\n              'mdc-select__label--float-above',\r\n              true,\r\n            );\r\n            return;\r\n          }\r\n        }\r\n        //TODO: MDCFIX force float above if value is valid\r\n        this.foundation.setSelectedIndex(-1);\r\n        this.$set(this.labelClasses, 'mdc-select__label--float-above', false);\r\n        this.$emit('change', this.foundation.getValue()); // TODO: MDCFIX\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    this.labelFoundation = new MDCSelectLabelFoundation({\r\n      addClass: className => this.$set(this.labelClasses, className, true),\r\n      removeClass: className => this.$delete(this.labelClasses, className),\r\n    });\r\n\r\n    this.bottomLineFoundation = new MDCSelectBottomLineFoundation({\r\n      addClass: className => {\r\n        this.$set(this.bottomLineClasses, className, true);\r\n      },\r\n      removeClass: className => {\r\n        this.$delete(this.bottomLineClasses, className);\r\n      },\r\n    });\r\n    this.bottomLineFoundation.init();\r\n\r\n    this.foundation = new MDCSelectFoundation({\r\n      addClass: className => this.$set(this.classes, className, true),\r\n      removeClass: className => this.$delete(this.classes, className),\r\n      floatLabel: value => {\r\n        this.labelFoundation.styleFloat(value);\r\n      },\r\n      activateBottomLine: () => {\r\n        this.bottomLineFoundation.activate();\r\n      },\r\n      deactivateBottomLine: () => {\r\n        this.bottomLineFoundation.deactivate();\r\n      },\r\n      setAttr: (attr, value) => this.$el.setAttribute(attr, value),\r\n      rmAttr: (attr, value) => this.$el.removeAttribute(attr, value),\r\n      computeBoundingRect: () => this.$refs.surface.getBoundingClientRect(),\r\n      registerInteractionHandler: (type, handler) =>\r\n        this.$refs.surface.addEventListener(type, handler),\r\n      deregisterInteractionHandler: (type, handler) =>\r\n        this.$refs.surface.removeEventListener(type, handler),\r\n      focus: () => this.$refs.surface.focus(),\r\n      makeTabbable: () => {\r\n        this.tabIndex = 0;\r\n      },\r\n      makeUntabbable: () => {\r\n        this.tabIndex = -1;\r\n      },\r\n      getComputedStyleValue: prop =>\r\n        window.getComputedStyle(this.$refs.surface).getPropertyValue(prop),\r\n      setStyle: (propertyName, value) =>\r\n        this.$set(this.surfaceStyles, propertyName, value),\r\n      create2dRenderingContext: () =>\r\n        document.createElement('canvas').getContext('2d'),\r\n      setMenuElStyle: (propertyName, value) =>\r\n        (this.$refs.menu.$el.style[propertyName] = value),\r\n      setMenuElAttr: (attr, value) =>\r\n        this.$refs.menu.$el.setAttribute(attr, value),\r\n      rmMenuElAttr: attr => this.$refs.menu.$el.removeAttribute(attr),\r\n      getMenuElOffsetHeight: () => this.$refs.menu.$el.offsetHeight,\r\n      openMenu: focusIndex => this.$refs.menu.show({ focusIndex }),\r\n      isMenuOpen: () => this.$refs.menu.isOpen(),\r\n      setSelectedTextContent: selectedTextContent => {\r\n        this.selectedTextContent = selectedTextContent;\r\n      },\r\n      getNumberOfOptions: () => this.$refs.menu.items.length,\r\n      getTextForOptionAtIndex: index =>\r\n        this.$refs.menu.items[index].textContent.trim(),\r\n      getValueForOptionAtIndex: index => {\r\n        return (\r\n          this.$refs.menu.items[index].getAttribute('data-value') ||\r\n          this.$refs.menu.items[index].textContent.trim()\r\n        );\r\n      },\r\n      setAttrForOptionAtIndex: (index, attr, value) =>\r\n        this.$refs.menu.items[index].setAttribute(attr, value),\r\n      rmAttrForOptionAtIndex: (index, attr) =>\r\n        this.$refs.menu.items[index].removeAttribute(attr),\r\n      getOffsetTopForOptionAtIndex: index =>\r\n        this.$refs.menu.items[index].offsetTop,\r\n      registerMenuInteractionHandler: (type, handler) =>\r\n        this.$refs.menu.$el.addEventListener(type, handler),\r\n      deregisterMenuInteractionHandler: (type, handler) =>\r\n        this.$refs.menu.$el.removeEventListener(type, handler),\r\n      notifyChange: () => {\r\n        this.$emit('change', this.foundation.getValue());\r\n      },\r\n      getWindowInnerHeight: () => window.innerHeight,\r\n      addBodyClass: className => document.body.classList.add(className),\r\n      removeBodyClass: className => document.body.classList.remove(className),\r\n    });\r\n\r\n    //TODO: MDCFIX\r\n    let foundation = this.foundation;\r\n    if (foundation) {\r\n      foundation.resize = () => {\r\n        if (!foundation.ctx_) {\r\n          return;\r\n        }\r\n        const font = foundation.adapter_.getComputedStyleValue('font');\r\n        const letterSpacing = parseFloat(\r\n          foundation.adapter_.getComputedStyleValue('letter-spacing'),\r\n        );\r\n        if (font) {\r\n          foundation.ctx_.font = font;\r\n        } else {\r\n          const primaryFontFamily = foundation.adapter_\r\n            .getComputedStyleValue('font-family')\r\n            .split(',')[0];\r\n          const fontSize = foundation.adapter_.getComputedStyleValue(\r\n            'font-size',\r\n          );\r\n          foundation.ctx_.font = `${fontSize} ${primaryFontFamily}`;\r\n        }\r\n\r\n        let maxTextLength = 0;\r\n\r\n        const surfacePaddingRight = parseInt(\r\n          foundation.adapter_.getComputedStyleValue('padding-right'),\r\n          10,\r\n        );\r\n        const surfacePaddingLeft = parseInt(\r\n          foundation.adapter_.getComputedStyleValue('padding-left'),\r\n          10,\r\n        );\r\n        const selectBoxAddedPadding = surfacePaddingRight + surfacePaddingLeft;\r\n\r\n        for (\r\n          let i = 0, l = foundation.adapter_.getNumberOfOptions();\r\n          i < l;\r\n          i++\r\n        ) {\r\n          const txt = foundation.adapter_.getTextForOptionAtIndex(i).trim();\r\n          const { width } = foundation.ctx_.measureText(txt);\r\n          const addedSpace = letterSpacing * txt.length;\r\n\r\n          maxTextLength = Math.max(\r\n            maxTextLength,\r\n            Math.ceil(width + addedSpace + selectBoxAddedPadding),\r\n          );\r\n        }\r\n\r\n        const labelTxt = this.label;\r\n        const { width } = foundation.ctx_.measureText(labelTxt);\r\n        const addedSpace = letterSpacing * labelTxt.length;\r\n\r\n        maxTextLength = Math.max(\r\n          maxTextLength,\r\n          Math.ceil(width + addedSpace + selectBoxAddedPadding),\r\n        );\r\n\r\n        foundation.adapter_.setStyle('width', `${maxTextLength}px`);\r\n      };\r\n    }\r\n    ///\r\n    this.labelFoundation.init();\r\n    this.foundation.init();\r\n    this.foundation.setDisabled(this.disabled);\r\n    this.refreshIndex();\r\n    if (this.value !== this.foundation.getValue()) {\r\n      this.$emit('change', this.foundation.getValue());\r\n    }\r\n  },\r\n  beforeDestroy() {\r\n    let foundation = this.foundation;\r\n    this.foundation = null;\r\n    foundation.destroy();\r\n\r\n    let labelFoundation = this.labelFoundation;\r\n    this.labelFoundation = null;\r\n    labelFoundation.destroy();\r\n\r\n    let bottomLineFoundation = this.bottomLineFoundation;\r\n    this.bottomLineFoundation = null;\r\n    bottomLineFoundation.destroy();\r\n  },\r\n};\r\n</script>\r\n","<template>\r\n  <select :multiple=\"multiple\"  ref=\"root\" v-model=\"selected\" \r\n    :disabled=\"disabled\"  :style=\"styles\"  \r\n    class=\"mdc-select mdc-multi-select mdc-list\"\r\n    @change=\"onChange\"\r\n  >\r\n    <optgroup ref=\"optgroup\" class=\"mdc-list-group\" :label=\"label\" v-if=\"label\">\r\n        <slot></slot>\r\n    </optgroup>\r\n    <slot v-else></slot>\r\n  </select>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'mdc-multi-select',\r\n  model: {\r\n    prop: 'value',\r\n    event: 'change'\r\n  },\r\n  props: {\r\n    multiple: Boolean,\r\n    value: [String, Array],\r\n    disabled: Boolean,\r\n    label: String,\r\n    maxSize: {\r\n      type: [String, Number],\r\n      default: 4\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      selected: this.value,\r\n      size: undefined,\r\n      count: undefined\r\n    }\r\n  },\r\n  computed: {\r\n    styles () {\r\n      let scroll = (this.count > this.size)\r\n      let size = 48* this.size + (scroll? 0 : 16)\r\n\r\n      let styles =  {\r\n        'height': size + 'px',\r\n        'overflow-y':  scroll ? 'scroll' : 'hidden'\r\n      }\r\n      if (!scroll) {\r\n        styles['background-image'] = 'unset'\r\n      }\r\n      return styles\r\n    }\r\n  },\r\n  methods: {\r\n    onChange () {\r\n      this.$emit('change', this.selected)\r\n    }\r\n  },\r\n  mounted () {\r\n    const refreshSize = () => {\r\n      let count = this.$refs.root.querySelectorAll('option, optgroup').length\r\n      this.count = count\r\n      let max = Number(this.maxSize)\r\n      if (this.label) {\r\n        max += 1\r\n      }\r\n      this.size = Math.min(count, max)\r\n    }\r\n\r\n    this.slotObserver = new MutationObserver(() => refreshSize())\r\n    this.slotObserver.observe(this.$el, { childList: true, subtree: true })\r\n\r\n    refreshSize()\r\n  },\r\n  beforeDestroy () {\r\n    this.slotObserver.disconnect()\r\n  }\r\n}\r\n</script>\r\n","<template>\r\n  <component :is=\"type\" :multiple=\"multiple\"\r\n    :label=\"label\" \r\n    :value=\"value\" @change=\"onChange\"\r\n    v-bind=\"$attrs\"\r\n  >\r\n    <slot></slot>\r\n  </component>\r\n</template>\r\n\r\n<script>\r\nimport MDCNativeSelect from './mdc-native-select.vue';\r\nimport MDCMenuSelect from './mdc-menu-select.vue';\r\nimport MDCMultiSelect from './mdc-multi-select.vue';\r\nimport { DispatchFocusMixin } from '../base';\r\n\r\nconst media = new class {\r\n  get mobile() {\r\n    return (\r\n      this._mobile ||\r\n      (this._mobile = window.matchMedia(\r\n        '(max-width: 600px) and (pointer: coarse)',\r\n      ))\r\n    );\r\n  }\r\n}();\r\n\r\nexport default {\r\n  name: 'mdc-select',\r\n  mixins: [DispatchFocusMixin],\r\n  model: {\r\n    prop: 'value',\r\n    event: 'change',\r\n  },\r\n  props: {\r\n    multiple: Boolean,\r\n    value: [String, Array],\r\n    label: String,\r\n    native: Boolean,\r\n    menu: Boolean,\r\n  },\r\n  provide() {\r\n    return { mdcSelect: this };\r\n  },\r\n  components: {\r\n    'mdc-native-select': MDCNativeSelect,\r\n    'mdc-menu-select': MDCMenuSelect,\r\n    'mdc-multi-select': MDCMultiSelect,\r\n  },\r\n  data() {\r\n    return {\r\n      mobile: window ? media.mobile.matches : true,\r\n    };\r\n  },\r\n  computed: {\r\n    type() {\r\n      return this.multiple\r\n        ? 'mdc-multi-select'\r\n        : this.menu\r\n          ? 'mdc-menu-select'\r\n          : this.isNative ? 'mdc-native-select' : 'mdc-menu-select';\r\n    },\r\n    isNative() {\r\n      return this.native || this.multiple || this.mobile;\r\n    },\r\n  },\r\n  methods: {\r\n    onChange(value) {\r\n      this.$emit('change', value);\r\n    },\r\n    refreshMedia() {\r\n      this.mobile = media.mobile.matches;\r\n    },\r\n  },\r\n  beforeMount() {\r\n    media.mobile.addListener(this.refreshMedia);\r\n    this.refreshMedia();\r\n  },\r\n  beforeDestroy() {\r\n    media.mobile.removeListener(this.refreshMedia);\r\n  },\r\n};\r\n</script>\r\n","<template>\n   <option :disabled=\"disabled\" :value=\"value\" v-if=\"hasValue\"\n    class=\"mdc-option mdc-native-option\">\n     <slot></slot>\n   </option>\n   <option :disabled=\"disabled\" v-else\n    class=\"mdc-option mdc-native-option\">\n     <slot></slot>\n   </option>\n</template>\n\n<script>\nexport default {\n  name: 'mdc-native-option',\n  props: {\n    value: String,\n    disabled: Boolean\n  },\n  computed: {\n    hasValue () {\n      return !(typeof this.value === 'undefined')\n    }\n  }\n}\n</script>\n","<template>\n   <li class=\"mdc-option mdc-menu-option mdc-list-item\" \n    role=\"option\" \n    :tabindex=\"disabled?-1:0\"\n    :aria-disabled=\"disabled\"\n    :data-value=\"value\">\n     <slot></slot>\n   </li>\n</template>\n\n<script>\nexport default {\n  name: 'mdc-menu-option',\n  props: {\n    value: String,\n    disabled: Boolean\n  }\n}\n</script>\n","<template>\n   <option class=\"mdc-option mdc-multi-option mdc-list-item\" \n    :disabled=\"disabled\" :value=\"value\" v-if=\"hasValue\">\n     <slot></slot>\n   </option>\n   <option class=\"mdc-option mdc-multi-option mdc-list-item\" \n    :disabled=\"disabled\" v-else>\n     <slot></slot>\n   </option>\n</template>\n\n<script>\nexport default {\n  name: 'mdc-multi-option',\n  props: {\n    value: String,\n    disabled: Boolean\n  },\n  computed: {\n    hasValue () {\n      return !(typeof this.value === 'undefined')\n    }\n  }\n}\n</script>\n","<template>\n  <component :is=\"type\" :disabled=\"disabled\" :value=value>\n    <slot></slot>\n  </component>\n</template>\n\n<script>\nimport MDCNativeOption from './mdc-native-option.vue';\nimport MDCMenuOption from './mdc-menu-option.vue';\nimport MDCMultiOption from './mdc-multi-option.vue';\n\nexport default {\n  name: 'mdc-option',\n  props: {\n    value: String,\n    disabled: Boolean,\n  },\n  inject: ['mdcSelect'],\n  components: {\n    'mdc-native-option': MDCNativeOption,\n    'mdc-multi-option': MDCMultiOption,\n    'mdc-menu-option': MDCMenuOption,\n  },\n  computed: {\n    isNative() {\n      return this.mdcSelect.isNative;\n    },\n    multiple() {\n      return this.mdcSelect.multiple;\n    },\n    menu() {\n      return this.mdcSelect.menu;\n    },\n    type() {\n      return this.multiple\n        ? 'mdc-multi-option'\n        : this.menu\n          ? 'mdc-menu-option'\n          : this.isNative ? 'mdc-native-option' : 'mdc-menu-option';\n    },\n  },\n};\n</script>\n","import {BasePlugin} from '../base'\nimport mdcSelect from './mdc-select.vue'\nimport mdcOption from './mdc-option.vue'\n\n\nexport {\n  mdcSelect,\n  mdcOption,\n}\n\nexport default BasePlugin({\n  mdcSelect,\n  mdcOption,\n})\n"],"names":["BasePlugin","components","vm","key","component","name","DispatchFocusMixin","hasFocus","_active","dispatchFocusEvent","setTimeout","$el","document","activeElement","contains","$emit","addEventListener","onFocusEvent","onBlurEvent","onMouseDown","onMouseUp","removeEventListener","render","String","Array","Boolean","value","selected","newValue","MDCFoundation","adapter","adapter_","MDCComponent","root","foundation","undefined","root_","args","initialize","foundation_","getDefaultFoundation","init","initialSyncWithDOM","Error","destroy","evtType","handler","evtData","shouldBubble","evt","CustomEvent","createEvent","initCustomEvent","dispatchEvent","cssClasses","strings","storedTransformPropertyName_","getTransformPropertyName","globalObj","forceRefresh","el","createElement","transformPropertyName","style","MDCMenuAdapter","className","target","attributeName","type","index","origin","position","height","attr","numbers","CornerBit","Corner","RIGHT","BOTTOM","FLIP_RTL","MDCMenuFoundation","babelHelpers.extends","defaultAdapter","clickHandler_","handlePossibleSelected_","keydownHandler_","handleKeyboardDown_","keyupHandler_","handleKeyboardUp_","documentClickHandler_","handleDocumentClick_","isOpen_","openAnimationEndTimerId_","closeAnimationEndTimerId_","selectedTriggerTimerId_","animationRequestId_","dimensions_","itemHeight_","anchorCorner_","TOP_START","anchorMargin_","top","right","bottom","left","measures_","selectedIndex_","rememberSelection_","quickOpen_","keyDownWithinMenu_","ROOT","OPEN","hasClass","hasNecessaryDom","registerInteractionHandler","deregisterInteractionHandler","deregisterBodyClickHandler","corner","margin","rememberSelection","setSelectedIndex","quickOpen","focusIndex","focusItemAtIndex","focus","isFocused","documentElement","getIndexForEventTarget","parentNode","notifyCancel","close","altKey","ctrlKey","metaKey","keyCode","shiftKey","isTab","isArrowUp","isArrowDown","isSpace","isEnter","focusedItemIndex","getFocusedItemIndex","lastItemIndex","getNumberOfItems","preventDefault","isEscape","getAttributeForEventTarget","ARIA_DISABLED_ATTR","targetIndex","notifySelected","SELECTED_TRIGGER_DELAY","anchorRect","getAnchorDimensions","viewport","getWindowDimensions","width","TOP_LEFT","viewportDistance","anchorHeight","anchorWidth","menuHeight","menuWidth","isBottomAligned","availableTop","availableBottom","topOverflow","bottomOverflow","isRtl","isFlipRtl","avoidHorizontalOverlap","isAlignedRight","availableLeft","availableRight","leftOverflow","rightOverflow","isRightAligned","x","rightOffset","leftOffset","MARGIN_TO_EDGE","avoidVerticalOverlap","canOverlapVertically","y","Math","min","maxHeight","hasAnchor","getAutoLayoutMeasurements_","getOriginCorner_","maxMenuHeight","getMenuMaxHeight_","verticalAlignment","horizontalAlignment","horizontalOffset","getHorizontalOriginOffset_","verticalOffset","getVerticalOriginOffset_","ANCHOR_TO_MENU_WIDTH_RATIO","abs","OFFSET_TO_MENU_HEIGHT_RATIO","verticalOffsetPercent","originPercent","round","setTransformOrigin","setPosition","setMaxHeight","saveFocus","addClass","ANIMATING_OPEN","requestAnimationFrame","getInnerDimensions","autoPosition_","focusOnOpen_","registerBodyClickHandler","removeClass","TRANSITION_OPEN_DURATION","targetIsDisabled","ANIMATING_CLOSED","TRANSITION_CLOSE_DURATION","restoreFocus","prevSelectedIndex","rmAttrForOptionAtIndex","rmClassForOptionAtIndex","SELECTED_LIST_ITEM","setAttrForOptionAtIndex","addClassForOptionAtIndex","MDCMenu","previousFocus_","open","setAnchorCorner","setAnchorMargin","items","length","classList","add","remove","itemsContainer_","getAttribute","itemsContainer","offsetWidth","offsetHeight","parentElement","getBoundingClientRect","window","innerWidth","innerHeight","body","indexOf","emit","SELECTED_EVENT","CANCEL_EVENT","getComputedStyle","getPropertyValue","setAttribute","removeAttribute","isOpen","querySelector","ITEMS_SELECTOR","slice","call","querySelectorAll","getSelectedIndex","setRememberSelection","setQuickOpen","OPENER_KEYS","forType","MDCSelectFoundation","ctx_","disabled_","isFocused_","displayHandler_","isMenuOpen","open_","displayViaKeyboardHandler_","handleDisplayViaKeyboard_","selectionHandler_","detail","notifyChange","close_","cancelHandler_","floatLabel","create2dRenderingContext","registerMenuInteractionHandler","resize","deregisterMenuInteractionHandler","getValueForOptionAtIndex","getNumberOfOptions","selectedTextContent","getTextForOptionAtIndex","trim","setSelectedTextContent","disabled","DISABLED","setAttr","makeUntabbable","rmAttr","makeTabbable","font","getComputedStyleValue","letterSpacing","parseFloat","primaryFontFamily","split","fontSize","maxTextLength","i","l","surfacePaddingRight","parseInt","surfacePaddingLeft","selectBoxAddedPadding","txt","measureText","addedSpace","max","ceil","setStyle","disableScroll_","setMenuStylesForOpenAtIndex_","activateBottomLine","openMenu","getWindowInnerHeight","computeBoundingRect","setMenuElAttr","setMenuElStyle","getMenuElOffsetHeight","itemOffsetTop","getOffsetTopForOptionAtIndex","rmMenuElAttr","adjustedTop","overflowsTop","overflowsBottom","deactivateBottomLine","enableScroll_","EVENT_PHASE_AT_TARGET","eventPhase","isSpaceDown","isOpenerKey","some","addBodyClass","SCROLL_LOCK","removeBodyClass","MDCSelectBottomLineAdapter","MDCSelectBottomLineFoundation","BOTTOM_LINE_ACTIVE","MDCSelectLabelAdapter","MDCSelectLabelFoundation","LABEL_FLOAT_ABOVE","box","mdcMenu","setDisabled","refreshIndex","$set","classes","options","$refs","menu","optionValue","textContent","labelClasses","getValue","labelFoundation","$delete","bottomLineFoundation","bottomLineClasses","styleFloat","activate","deactivate","surface","tabIndex","prop","propertyName","surfaceStyles","getContext","show","offsetTop","labelTxt","label","Number","scroll","count","size","styles","refreshSize","maxSize","slotObserver","MutationObserver","observe","childList","subtree","disconnect","media","_mobile","matchMedia","mdcSelect","MDCNativeSelect","MDCMenuSelect","MDCMultiSelect","mobile","matches","multiple","isNative","native","addListener","refreshMedia","removeListener","MDCNativeOption","MDCMultiOption","MDCMenuOption"],"mappings":"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"}